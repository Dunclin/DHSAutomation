<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DHS Automation</title>

  <!-- Firebase compat SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>

  <style>
    *, *::before, *::after { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; overflow-x: hidden; }
    body { font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Arial, sans-serif; background: #f1f5f9; color: #0f172a; line-height: 1.5; }

    header { position: sticky; top: 0; z-index: 50; background: #0f172a; color: #fff; box-shadow: 0 2px 8px rgba(2,6,23,.25); }
    .nav { max-width: 1200px; margin: 0 auto; padding: .7rem 1rem; display: flex; align-items: center; justify-content: space-between; gap: 1rem; }
    .brand-only { display:flex; align-items:center; gap:.6rem; }
    .brand-only img { height: 44px; width: auto; display: block; filter: invert(1) grayscale(1) brightness(1.4); } /* make dark logo visible on dark header */
    @media (max-width: 900px) { .brand-only img { height: 34px; } }
    .nav a { color:#e5e7eb; text-decoration: none; font-weight: 600; margin-left: 1rem; }
    .nav a:hover { color: #fff; text-decoration: underline; }
    #accountLink, #logoutLink { display: none; }

    .hero { background: linear-gradient(135deg, #1d4ed8, #0ea5e9); color: #fff; }
    .hero-inner { max-width: 1200px; margin: 0 auto; padding: 3.25rem 1rem; text-align: center; }
    .hero h1 { margin: 0 0 .5rem; font-size: clamp(1.6rem, 2.2vw, 2.1rem); }
    .hero p { margin: 0 0 1.25rem; opacity: .95; }
    .cta { display: flex; gap: .6rem; justify-content: center; flex-wrap: wrap; }
    .btn { padding: .6rem 1rem; border-radius: 10px; border: none; cursor: pointer; font-weight: 700; }
    .btn.primary { background: #ffffff; color: #0f172a; }
    .btn.ghost { background: transparent; color: #fff; border: 1px solid rgba(255,255,255,.7); }
    .btn:hover { opacity: .96; }

    main { max-width: 1200px; margin: 0 auto; padding: 2rem 1rem 3rem; }
    .card { background:#fff; border-radius:14px; padding: 1.25rem 1.5rem; box-shadow: 0 8px 24px rgba(2,6,23,.08); margin: 1.25rem auto; max-width: 980px; }

    .route { display: none; }
    .route.active { display: block; }

    .gallery { display: grid; gap: 1.5rem; margin-top: 1rem; }
    .gallery-row {
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      align-items: center;
      gap: 1.5rem;
      background:#fff;
      border-radius:14px;
      padding: 1rem;
      box-shadow: 0 8px 24px rgba(2,6,23,.08);
    }
    .gallery-row:nth-child(even) { grid-template-columns: 1fr 1.1fr; }
    .gallery-row:nth-child(even) .media { order: 2; }
    .gallery-row:nth-child(even) .text  { order: 1; }

    .media { width: 100%; aspect-ratio: 16 / 9; border-radius: 12px; overflow: hidden; background:#e7edf6; box-shadow: inset 0 0 0 1px rgba(2,6,23,.06); }
    .media img { width:100%; height:100%; object-fit:cover; display:block; }

    .text { padding: .25rem .25rem; }
    .text h3 { margin:.1rem 0 .5rem; font-size: 1.25rem; }
    .text p  { margin: 0 0 .6rem; color:#334155; line-height:1.55; }
    .text ul { margin: 0; padding-left: 1.1rem; color:#475569; }
    .text li { margin: .2rem 0; }

    @media (max-width: 900px) {
      .gallery-row, .gallery-row:nth-child(even) { grid-template-columns: 1fr; }
      .gallery-row:nth-child(even) .media, .gallery-row:nth-child(even) .text { order: initial; }
    }

    footer { background:#0f172a; color:#fff; text-align:center; padding: 1rem; }

    /* Modal */
    .overlay { position: fixed; inset: 0; background: rgba(15,23,42,.55); z-index: 70; display: none; }
    .modal { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #fff; color:#111; width: min(92vw, 460px); padding: 1.25rem; border-radius: 14px; z-index: 80; display: none; box-shadow: 0 24px 80px rgba(2,6,23,.35); }
    .modal h3 { margin: 0 0 .75rem; }
    .modal input { width:100%; padding:.6rem .7rem; margin:.5rem 0; border:1px solid #cbd5e1; border-radius: 10px; font-size: 1rem; }
    .modal .actions { display:flex; gap:.5rem; justify-content: space-between; flex-wrap: wrap; }
    .btn.alt { background: transparent; color:#1d4ed8; border:1px solid #93c5fd; }
    .note { font-size: .9rem; color:#475569; margin-top: .25rem; }
    .error { color:#b91c1c; margin-top: .25rem; }
    .ok { color:#166534; margin-top: .25rem; }
  </style>
</head>
<body>
  <header>
    <div class="nav">
      <a class="brand-only" href="#home" aria-label="DHS Automation home">
        <img src="site-assets/dhs-logo.png" alt="DHS Automation logo">
      </a>
      <nav>
        <a href="#home">Home</a>
        <a href="#remote">Remote Work</a>
        <a href="#account" id="accountLink">Account</a>
        <a href="#contact">Contact</a>
        <a href="#" id="openAuth">Sign In / Sign Up</a>
        <a href="#" id="logoutLink">Log Out</a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="hero-inner">
      <h1>Industrial PLC Automation</h1>
      <p>Remote PLC programming, troubleshooting, and automation consulting.</p>
      <div class="cta">
        <a href="#remote"><button class="btn primary">Remote Session</button></a>
        <button class="btn ghost" id="openAuthHero">Sign In / Sign Up</button>
      </div>
    </div>
  </section>

  <main>
    <section id="home" class="route active">
      <div class="card">
        <h2>Why DHS Automation?</h2>
        <p>We deliver clean, reliable control systems and fast remote support across Allen‑Bradley, Siemens, and more.</p>
      </div>

      <section class="gallery">
        <article class="gallery-row">
          <div class="media">
            <img src="site-assets/plc-panel-1.jpg?v=2" alt="Allen-Bradley PLC rack inside a control cabinet with multiple I/O modules." />
          </div>
          <div class="text">
            <h3>Allen-Bradley PLC Rack</h3>
            <p>ControlLogix/CompactLogix rack with mixed I/O and clean field wiring. Built for high-reliability process and motion control with future expansion in mind.</p>
            <ul>
              <li>Modular digital/analog I/O</li>
              <li>Clear labeling & cable routing</li>
              <li>Designed for uptime & serviceability</li>
            </ul>
          </div>
        </article>

        <article class="gallery-row">
          <div class="media">
            <img src="site-assets/plc-panel-2.jpg?v=2" alt="Industrial control cabinet with EATON VFD, breakers, contactors and terminal strips." />
          </div>
          <div class="text">
            <h3>VFD & Motor Control Cabinet</h3>
            <p>EATON VFD with upstream protection and DIN-rail components for dependable motor control, energy savings, and straightforward field service.</p>
            <ul>
              <li>Integrated protection & isolation</li>
              <li>Clean power vs. control segregation</li>
              <li>Service-friendly layout & labeling</li>
            </ul>
          </div>
        </article>
      </section>
    </section>

    <section id="remote" class="route">
      <div class="card">
        <h2>Remote Work</h2>
        <p>Signed-in users can start a support session. (Content unchanged.)</p>
      </div>
    </section>

    <section id="account" class="route">
      <div class="card">
        <h2>Account</h2>
        <p id="acctWelcome">Please sign in.</p>
      </div>
    </section>

    <section id="contact" class="route">
      <div class="card">
        <h2>Contact</h2>
        <p>Tell us about your application — we’ll reply quickly.</p>
      </div>
    </section>
  </main>

  <footer>© 2025 DHS Automation</footer>

  <!-- Auth modal -->
  <div id="overlay" class="overlay"></div>
  <div id="authModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="authTitle">
    <h3 id="authTitle">Sign In / Sign Up</h3>
    <input id="email" type="email" placeholder="Email" autocomplete="email" />
    <input id="password" type="password" placeholder="Password" autocomplete="current-password" />
    <div class="actions">
      <div>
        <button class="btn" id="btnSignIn">Sign In</button>
        <button class="btn alt" id="btnSignUp">Create Account</button>
      </div>
      <button class="btn alt" id="btnForgot">Forgot Password</button>
      <button class="btn alt" id="closeAuth">Cancel</button>
    </div>
    <div id="authMsg" class="note"></div>
  </div>

  <script>
    // --- Firebase ---
    const firebaseConfig = {
      apiKey: "AIzaSyC-_sJL0xTUJmiwA6Y7x0WrGAV2dHBprLA",
      authDomain: "dhsautomation-3a21f.firebaseapp.com",
      projectId: "dhsautomation-3a21f",
      storageBucket: "dhsautomation-3a21f.firebasestorage.app",
      messagingSenderId: "1000122143140",
      appId: "1:1000122143140:web:57bd9b8cefd1db8dcf7131",
      measurementId: "G-BGH00GH1TG"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // --- SPA routing ---
    const routes = Array.from(document.querySelectorAll('.route'));
    const showRoute = (id) => {
      routes.forEach(r => r.classList.toggle('active', r.id === id));
      window.scrollTo({ top: 0, behavior: 'instant' });
    };
    window.addEventListener('hashchange', () => showRoute((location.hash || '#home').slice(1)));
    showRoute((location.hash || '#home').slice(1));

    // --- Modal controls ---
    const overlay = document.getElementById('overlay');
    const authModal = document.getElementById('authModal');
    const openAuth = document.getElementById('openAuth');
    const openAuthHero = document.getElementById('openAuthHero');
    const closeAuth = document.getElementById('closeAuth');
    const btnSignIn = document.getElementById('btnSignIn');
    const btnSignUp = document.getElementById('btnSignUp');
    const btnForgot = document.getElementById('btnForgot');
    const authMsg = document.getElementById('authMsg');
    const emailEl = document.getElementById('email');
    const passEl = document.getElementById('password');

    function openModal() { overlay.style.display = 'block'; authModal.style.display = 'block'; authMsg.textContent = ''; }
    function closeModal() { overlay.style.display = 'none'; authModal.style.display = 'none'; }
    [openAuth, openAuthHero].forEach(b => b?.addEventListener('click', (e) => { e.preventDefault(); openModal(); }));
    closeAuth.addEventListener('click', (e) => { e.preventDefault(); closeModal(); });
    overlay.addEventListener('click', closeModal);
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeModal(); });

    btnSignIn.addEventListener('click', async () => {
      try { await auth.signInWithEmailAndPassword(emailEl.value, passEl.value); closeModal(); location.hash = '#remote'; }
      catch (e) { authMsg.textContent = e.message; authMsg.className = 'error'; }
    });
    btnSignUp.addEventListener('click', async () => {
      try { await auth.createUserWithEmailAndPassword(emailEl.value, passEl.value); closeModal(); location.hash = '#remote'; }
      catch (e) { authMsg.textContent = e.message; authMsg.className = 'error'; }
    });
    btnForgot.addEventListener('click', async () => {
      try { await auth.sendPasswordResetEmail(emailEl.value); authMsg.textContent = 'Password reset email sent.'; authMsg.className = 'ok'; }
      catch (e) { authMsg.textContent = e.message; authMsg.className = 'error'; }
    });

    // --- Auth state UI ---
    const accountLink = document.getElementById('accountLink');
    const logoutLink = document.getElementById('logoutLink');
    const acctWelcome = document.getElementById('acctWelcome');

    auth.onAuthStateChanged(async (user) => {
      if (user) {
        accountLink.style.display = 'inline';
        logoutLink.style.display = 'inline';
        openAuth.style.display = 'none';
        if (openAuthHero) openAuthHero.style.display = 'none';
        acctWelcome && (acctWelcome.textContent = 'Signed in as ' + (user.email || 'your account'));
      } else {
        accountLink.style.display = 'none';
        logoutLink.style.display = 'none';
        openAuth.style.display = 'inline';
        if (openAuthHero) openAuthHero.style.display = 'inline-block';
      }
    });

    logoutLink.addEventListener('click', async (e) => {
      e.preventDefault();
      try { await auth.signOut(); location.hash = '#home'; } catch (e) { console.log(e); }
    });
  </script>
</body>
</html>
